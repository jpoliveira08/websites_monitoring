let dataFromQuery = [
    {
      "datapoints": [
        [
          200,
          1673913320000
        ],
        [
          200,
          1673913340000
        ],
        [
          200,
          1673913360000
        ],
        [
          200,
          1673913380000
        ],
        [
          200,
          1673913400000
        ],
        [
          200,
          1673913420000
        ],
        [
          200,
          1673913440000
        ],
        [
          200,
          1673913460000
        ],
        [
          200,
          1673913480000
        ],
        [
          200,
          1673913500000
        ],
        [
          200,
          1673913520000
        ],
        [
          200,
          1673913540000
        ],
        [
          200,
          1673913560000
        ],
        [
          200,
          1673913580000
        ],
        [
          200,
          1673913600000
        ],
        [
          200,
          1673913620000
        ],
        [
          200,
          1673913640000
        ],
        [
          200,
          1673913660000
        ],
        [
          200,
          1673913680000
        ],
        [
          200,
          1673913700000
        ],
        [
          200,
          1673913720000
        ],
        [
          200,
          1673913740000
        ],
        [
          200,
          1673913760000
        ],
        [
          200,
          1673913780000
        ],
        [
          200,
          1673913800000
        ],
        [
          200,
          1673913820000
        ],
        [
          200,
          1673913840000
        ],
        [
          200,
          1673913860000
        ],
        [
          200,
          1673913880000
        ],
        [
          200,
          1673913900000
        ],
        [
          200,
          1673913920000
        ],
        [
          200,
          1673913940000
        ],
        [
          200,
          1673913960000
        ],
        [
          200,
          1673913980000
        ],
        [
          200,
          1673914000000
        ],
        [
          200,
          1673914020000
        ],
        [
          200,
          1673914040000
        ],
        [
          200,
          1673914060000
        ]
      ],
      "id": "{__name__=\"probe_http_status_code\", instance=\"https://crapr.crabr.com.br/\", job=\"blackbox-https\"}",
      "label": "{__name__=\"probe_http_status_code\", instance=\"https://crapr.crabr.com.br/\", job=\"blackbox-https\"}",
      "alias": "{__name__=\"probe_http_status_code\", instance=\"https://crapr.crabr.com.br/\", job=\"blackbox-https\"}",
      "aliasEscaped": "{__name__=&quot;probe_http_status_code&quot;, instance=&quot;https://crapr.crabr.com.br/&quot;, job=&quot;blackbox-https&quot;}",
      "stats": {
        "total": 7600,
        "max": 200,
        "min": 200,
        "logmin": 200,
        "avg": 200,
        "current": 200,
        "first": 200,
        "delta": 0,
        "diff": 0,
        "diffperc": 0,
        "range": 0,
        "timeStep": 20000,
        "count": 38
      },
      "legend": true,
      "allIsNull": false,
      "allIsZero": false,
      "hasMsResolution": false,
      "bars": {},
      "flotpairs": [
        [
          1673913320000,
          200
        ],
        [
          1673913340000,
          200
        ],
        [
          1673913360000,
          200
        ],
        [
          1673913380000,
          200
        ],
        [
          1673913400000,
          200
        ],
        [
          1673913420000,
          200
        ],
        [
          1673913440000,
          200
        ],
        [
          1673913460000,
          200
        ],
        [
          1673913480000,
          200
        ],
        [
          1673913500000,
          200
        ],
        [
          1673913520000,
          200
        ],
        [
          1673913540000,
          200
        ],
        [
          1673913560000,
          200
        ],
        [
          1673913580000,
          200
        ],
        [
          1673913600000,
          200
        ],
        [
          1673913620000,
          200
        ],
        [
          1673913640000,
          200
        ],
        [
          1673913660000,
          200
        ],
        [
          1673913680000,
          200
        ],
        [
          1673913700000,
          200
        ],
        [
          1673913720000,
          200
        ],
        [
          1673913740000,
          200
        ],
        [
          1673913760000,
          200
        ],
        [
          1673913780000,
          200
        ],
        [
          1673913800000,
          200
        ],
        [
          1673913820000,
          200
        ],
        [
          1673913840000,
          200
        ],
        [
          1673913860000,
          200
        ],
        [
          1673913880000,
          200
        ],
        [
          1673913900000,
          200
        ],
        [
          1673913920000,
          200
        ],
        [
          1673913940000,
          200
        ],
        [
          1673913960000,
          200
        ],
        [
          1673913980000,
          200
        ],
        [
          1673914000000,
          200
        ],
        [
          1673914020000,
          200
        ],
        [
          1673914040000,
          200
        ],
        [
          1673914060000,
          200
        ]
      ]
    },
    {
      "datapoints": [
        [
          200,
          1673913320000
        ],
        [
          200,
          1673913340000
        ],
        [
          200,
          1673913360000
        ],
        [
          200,
          1673913380000
        ],
        [
          200,
          1673913400000
        ],
        [
          200,
          1673913420000
        ],
        [
          200,
          1673913440000
        ],
        [
          200,
          1673913460000
        ],
        [
          200,
          1673913480000
        ],
        [
          200,
          1673913500000
        ],
        [
          200,
          1673913520000
        ],
        [
          200,
          1673913540000
        ],
        [
          200,
          1673913560000
        ],
        [
          200,
          1673913580000
        ],
        [
          200,
          1673913600000
        ],
        [
          200,
          1673913620000
        ],
        [
          200,
          1673913640000
        ],
        [
          200,
          1673913660000
        ],
        [
          200,
          1673913680000
        ],
        [
          200,
          1673913700000
        ],
        [
          200,
          1673913720000
        ],
        [
          200,
          1673913740000
        ],
        [
          200,
          1673913760000
        ],
        [
          200,
          1673913780000
        ],
        [
          200,
          1673913800000
        ],
        [
          200,
          1673913820000
        ],
        [
          200,
          1673913840000
        ],
        [
          200,
          1673913860000
        ],
        [
          200,
          1673913880000
        ],
        [
          200,
          1673913900000
        ],
        [
          200,
          1673913920000
        ],
        [
          200,
          1673913940000
        ],
        [
          200,
          1673913960000
        ],
        [
          200,
          1673913980000
        ],
        [
          200,
          1673914000000
        ],
        [
          200,
          1673914020000
        ],
        [
          200,
          1673914040000
        ],
        [
          200,
          1673914060000
        ]
      ],
      "id": "{__name__=\"probe_http_status_code\", instance=\"https://crams.crabr.com.br/\", job=\"blackbox-https\"}",
      "label": "{__name__=\"probe_http_status_code\", instance=\"https://crams.crabr.com.br/\", job=\"blackbox-https\"}",
      "alias": "{__name__=\"probe_http_status_code\", instance=\"https://crams.crabr.com.br/\", job=\"blackbox-https\"}",
      "aliasEscaped": "{__name__=&quot;probe_http_status_code&quot;, instance=&quot;https://crams.crabr.com.br/&quot;, job=&quot;blackbox-https&quot;}",
      "stats": {
        "total": 7600,
        "max": 200,
        "min": 200,
        "logmin": 200,
        "avg": 200,
        "current": 200,
        "first": 200,
        "delta": 0,
        "diff": 0,
        "diffperc": 0,
        "range": 0,
        "timeStep": 20000,
        "count": 38
      },
      "legend": true,
      "allIsNull": false,
      "allIsZero": false,
      "hasMsResolution": false,
      "bars": {},
      "flotpairs": [
        [
          1673913320000,
          200
        ],
        [
          1673913340000,
          200
        ],
        [
          1673913360000,
          200
        ],
        [
          1673913380000,
          200
        ],
        [
          1673913400000,
          200
        ],
        [
          1673913420000,
          200
        ],
        [
          1673913440000,
          200
        ],
        [
          1673913460000,
          200
        ],
        [
          1673913480000,
          200
        ],
        [
          1673913500000,
          200
        ],
        [
          1673913520000,
          200
        ],
        [
          1673913540000,
          200
        ],
        [
          1673913560000,
          200
        ],
        [
          1673913580000,
          200
        ],
        [
          1673913600000,
          200
        ],
        [
          1673913620000,
          200
        ],
        [
          1673913640000,
          200
        ],
        [
          1673913660000,
          200
        ],
        [
          1673913680000,
          200
        ],
        [
          1673913700000,
          200
        ],
        [
          1673913720000,
          200
        ],
        [
          1673913740000,
          200
        ],
        [
          1673913760000,
          200
        ],
        [
          1673913780000,
          200
        ],
        [
          1673913800000,
          200
        ],
        [
          1673913820000,
          200
        ],
        [
          1673913840000,
          200
        ],
        [
          1673913860000,
          200
        ],
        [
          1673913880000,
          200
        ],
        [
          1673913900000,
          200
        ],
        [
          1673913920000,
          200
        ],
        [
          1673913940000,
          200
        ],
        [
          1673913960000,
          200
        ],
        [
          1673913980000,
          200
        ],
        [
          1673914000000,
          200
        ],
        [
          1673914020000,
          200
        ],
        [
          1673914040000,
          200
        ],
        [
          1673914060000,
          200
        ]
      ]
    }
  ];

const brazilStatesWithIBGECode = {
    'ac': 12,
    'al': 27,
    'ap': 16,
    'am': 14,
    'ba': 29,
    'ce': 23,
    'df': 53,
    'es': 32,
    'go': 52,
    'ma': 21,
    'mt': 50,
    'ms': 50,
    'mg': 31,
    'pa': 15,
    'pb': 25,
    'pr': 41,
    'pe': 26,
    'pi': 22,
    'rj': 33,
    'rn': 24,
    'rs': 43,
    'ro': 11,
    'rr': 14,
    'sc': 42,
    'sp': 35,
    'se': 28,
    'to': 17
};

const statesFromSvg = document.querySelectorAll('.estado');
// StatesFromSvg[0].getAttribute('code'));

// Tenho todos os estados
// Tenho a data reference a cada estado

// Caso o último dado coletado for 200
// Pintar o estado referente de verde

dataFromQuery.forEach(httpResultWithDatapoints => {
    let stateAbbreviated = httpResultWithDatapoints.id.slice(57, 59);
    let lastIdDataPoint = httpResultWithDatapoints.datapoints.length - 1;
    let timestampOfLastResponse = httpResultWithDatapoints.datapoints[lastIdDataPoint][1];
    let httpStatusCodeOfLastResponse = httpResultWithDatapoints.datapoints[lastIdDataPoint][0];

    if (httpStatusCodeOfLastResponse == 200) {
        statesFromSvg.forEach(element => {
            if (element.getAttribute('code') == brazilStatesWithIBGECode[stateAbbreviated]) {
                element.setAttribute('fill', '#00FF00');
            }
        });
    }
});
